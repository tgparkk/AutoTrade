[TRADING_STRATEGY]
# 거래 방식 설정
TRADING_MODE=day
DAY_TRADING_EXIT_TIME=15:00

# 종목 스크리닝 (거래량 기반)
VOLUME_INCREASE_THRESHOLD=2.0
VOLUME_MIN_THRESHOLD=100000

# 캔들패턴 + 기술적지표 전략 설정
CANDLE_TECHNICAL_STRATEGY_ENABLED=true
MIN_SIGNAL_CONFIDENCE=0.7
MULTIPLE_INDICATOR_CONFIRM=true

# 포지션 보유기간 관리
MAX_HOLDING_DAYS=1
NEXT_DAY_FORCE_SELL=true
OVERNIGHT_HOLDING_ALLOWED=true

# 테스트 모드 설정
test_mode = true  # true: 시장시간 무관 실행, false: 실제 시장시간만 실행

[RISK_MANAGEMENT]
# 손절/익절 설정
STOP_LOSS_RATE=-0.015
TAKE_PROFIT_RATE=0.03

# 포지션 크기 관리
MIN_POSITION_SIZE=0.10
MAX_POSITION_SIZE=1000000

# 매수 금액 설정 (새로 추가)
BASE_INVESTMENT_AMOUNT=1000000    # 기본 매수 금액 (원)
POSITION_SIZE_RATIO=0.1           # 계좌 대비 포지션 크기 비율 (10퍼센트)
USE_ACCOUNT_RATIO=True           # 계좌 잔고 기반 비율 사용 여부
OPENING_REDUCTION_RATIO=0.5       # 장 초반 투자 금액 비율
PRECLOSE_REDUCTION_RATIO=0.3      # 마감 전 투자 금액 비율
CONSERVATIVE_RATIO=0.7            # 포지션 많을 때 보수적 비율

# 일일 손실 제한
MAX_DAILY_LOSS=-100000
MAX_POSITIONS=5

# 급락장 대응
MARKET_CRASH_PROTECTION=true
MARKET_CRASH_THRESHOLD=-0.03

# 리스크 관리 설정
MAX_DAILY_TRADES=20

[MARKET_SCHEDULE]
# 시장 운영 시간
MARKET_OPEN_TIME=09:00
MARKET_CLOSE_TIME=15:30
PRE_MARKET_SCAN_TIME=08:30

# 거래 활성화
TRADING_ENABLED=true
WEEKEND_TRADING=false

# 장중 휴식 시간 (점심시간 등)
LUNCH_BREAK_START=12:00
LUNCH_BREAK_END=13:00
LUNCH_BREAK_TRADING=false

[CANDLE_PATTERN]
# 캔들패턴 분석 설정
PATTERN_ANALYSIS_ENABLED=true
MIN_PATTERN_RELIABILITY=0.7

# 강세 패턴
BULLISH_ENGULFING_WEIGHT=1.0
HAMMER_WEIGHT=0.8
MORNING_STAR_WEIGHT=1.2
PIERCING_LINE_WEIGHT=0.9

# 약세 패턴
BEARISH_ENGULFING_WEIGHT=1.0
SHOOTING_STAR_WEIGHT=0.8
EVENING_STAR_WEIGHT=1.2
DARK_CLOUD_COVER_WEIGHT=0.9

# 중립/지속 패턴
DOJI_WEIGHT=0.5
SPINNING_TOP_WEIGHT=0.3

[TECHNICAL_INDICATORS]
# 이동평균
MA_SHORT_PERIOD=5
MA_LONG_PERIOD=20
MA_CROSSOVER_ENABLED=true

# RSI 설정
RSI_PERIOD=14
RSI_OVERSOLD=30
RSI_OVERBOUGHT=70

# MACD 설정
MACD_FAST=12
MACD_SLOW=26
MACD_SIGNAL=9

# 볼린저 밴드
BB_PERIOD=20
BB_STD_DEV=2.0

# 거래량 지표
VOLUME_MA_PERIOD=20
VOLUME_SPIKE_THRESHOLD=2.0

[NOTIFICATION]
# 거래 알림 설정
TRADE_NOTIFICATION=true
ERROR_NOTIFICATION=true
DAILY_REPORT=true

# 알림 빈도 제한
MAX_NOTIFICATIONS_PER_HOUR=10
DUPLICATE_NOTIFICATION_INTERVAL=300

[BACKTEST]
# 백테스트 설정
BACKTEST_START_DATE=2024-01-01
BACKTEST_END_DATE=2024-12-31
INITIAL_CAPITAL=10000000
COMMISSION_RATE=0.00015

[ADVANCED]
# 고급 설정
API_RATE_LIMIT=20
RETRY_COUNT=3
RETRY_DELAY=1.0

# 로깅 설정
DETAILED_LOGGING=true
TRADE_LOG_RETENTION_DAYS=90

[PERFORMANCE]
# 캐시 정책 설정
cache_ttl_seconds = 2  # 모든 컴포넌트 공통 캐시 유효시간 (초)
price_cache_size = 100  # 가격 캐시 최대 크기
enable_cache_debug = false  # 캐시 디버그 로그 활성화

# 기본 전략 설정
volume_increase_threshold = 2.0
volume_min_threshold = 100000
pattern_score_threshold = 70.0
max_holding_days = 1

# 🆕 KIS 공식 문서 기반 고급 매매 지표 임계값
contract_strength_threshold = 120.0    # 체결강도 임계값
buy_ratio_threshold = 60.0            # 매수비율 임계값 (퍼센트)
vi_activation_threshold = true         # VI 발동 시 거래 중단 여부
market_pressure_weight = 0.3          # 시장압력 가중치
spread_threshold = 0.01               # 호가 스프레드 임계값 (1퍼센트)

# 고급 매도 조건 임계값
weak_contract_strength_threshold = 80.0  # 체결강도 하락 매도 임계값
low_buy_ratio_threshold = 30.0          # 매수비율 하락 매도 임계값
high_volatility_threshold = 5.0         # 고변동성 매도 임계값 (퍼센트)
price_decline_from_high_threshold = 0.03 # 고점 대비 하락 매도 임계값 (3퍼센트) 